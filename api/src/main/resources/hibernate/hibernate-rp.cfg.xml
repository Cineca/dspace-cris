<?xml version='1.0' encoding='utf-8'?>
<!--
  The contents of this file are subject to the license and copyright
   detailed in the LICENSE and NOTICE files at the root of the source
   tree and available online at
   
   https://github.com/CILEA/dspace-cris/wiki/License
-->
<!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<hibernate-configuration>

	<session-factory>
		
		<!-- SEE HERE -> connection parameters in hibernate.properties -->
		
		<!--<property name="hbm2ddl.auto">create</property>-->
		<property name="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</property>
		<property name="hibernate.max_fetch_size">3</property>
		<property name="hibernate.default_batch_fetch_size">16</property>

		<property name="hibernate.cache.use_second_level_cache">true</property>
		<property name="hibernate.cache.use_query_cache">true</property>								
		<property name="hibernate.cache.region.factory_class">net.sf.ehcache.hibernate.EhCacheRegionFactory</property>		

				
		<property name="hibernate.show_sql">false</property>
		<property name="hibernate.generate_statistics">false</property>
		
		<property name="hibernate.connection.autoReconnect">true</property>
		<property name="hibernate.connection.autoReconnectForPools">true</property>
						
		<!-- alternative to C3P0 -->
		<property name="hibernate.connection.pool_size">30</property>	

		<property name="hibernate.search.autoregister_listeners">false</property>

		<!-- configuration pool via c3p0--> 
		<property name="hibernate.c3p0.acquire_increment">1</property> 
		<property name="hibernate.c3p0.idle_test_period">100</property> <!-- previous 300 seconds --> 
		<property name="hibernate.c3p0.max_size">100</property> 
		<property name="hibernate.c3p0.max_statements">0</property> 
		<property name="hibernate.c3p0.min_size">10</property> 
		<property name="hibernate.c3p0.timeout">100</property> <!-- seconds --> 
						
		<mapping class="it.cilea.osd.common.core.TimeStampInfo" />
		<mapping class="it.cilea.osd.common.core.SingleTimeStampInfo" />
				
		<mapping class="org.dspace.app.cris.model.ResearcherPage" />
		<mapping class="org.dspace.app.cris.model.Project" />
		<mapping class="org.dspace.app.cris.model.OrganizationUnit" />		
		<mapping class="org.dspace.app.cris.model.RestrictedField" />
		<mapping class="org.dspace.app.cris.model.RestrictedFieldFile" />
		<mapping class="org.dspace.app.cris.model.RestrictedFieldLocalOrRemoteFile" />
		<mapping class="org.dspace.app.cris.model.RPSubscription" />

		<!-- Dynamic field -->
		
		<mapping class="org.dspace.app.cris.model.dynamicfield.RPProperty" />
		
		<mapping class="org.dspace.app.cris.model.dynamicfield.ProjectProperty" />
		
		<mapping class="org.dspace.app.cris.model.dynamicfield.OUProperty" />
		
		<mapping class="org.dspace.app.cris.model.dynamicfield.RPNestedObject" />
		<mapping class="org.dspace.app.cris.model.dynamicfield.RPTypeNestedObject" />
		<mapping class="org.dspace.app.cris.model.dynamicfield.RPNestedProperty" />
		
		<mapping class="org.dspace.app.cris.model.dynamicfield.ProjectNestedObject" />
		<mapping class="org.dspace.app.cris.model.dynamicfield.ProjectTypeNestedObject" />
		<mapping class="org.dspace.app.cris.model.dynamicfield.ProjectNestedProperty" />

		<mapping class="org.dspace.app.cris.model.dynamicfield.OUNestedObject" />
		<mapping class="org.dspace.app.cris.model.dynamicfield.OUTypeNestedObject" />
		<mapping class="org.dspace.app.cris.model.dynamicfield.OUNestedProperty" />
				
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.RPPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.ProjectPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.OUPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.RPNestedPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.ProjectNestedPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.OUNestedPropertiesDefinition" />
					
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.TabResearcherPage" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.TabProject" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.TabOrganizationUnit" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.BoxResearcherPage" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.BoxProject" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.BoxOrganizationUnit" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.EditTabResearcherPage" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.EditTabProject" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.EditTabOrganizationUnit" />
		
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorRPPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorProjectPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorOUPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorRPNestedPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorProjectNestedPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorOUNestedPropertiesDefinition" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorRPTypeNested" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorProjectTypeNested" />
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.DecoratorOUTypeNested" />
		<!-- JDynA mapping -->
		<mapping class="it.cilea.osd.jdyna.model.ANestedObject" />
		<mapping class="it.cilea.osd.jdyna.model.NestedObject" />		
		<mapping class="it.cilea.osd.jdyna.model.TypeNestedObject" />
		<mapping class="it.cilea.osd.jdyna.model.Property" />
		<mapping class="it.cilea.osd.jdyna.model.PropertiesDefinition" />		
		<mapping class="it.cilea.osd.jdyna.model.NestedProperty" />
		<mapping class="it.cilea.osd.jdyna.model.NestedPropertiesDefinition" />				
		<mapping class="it.cilea.osd.jdyna.model.AValue" />
		<mapping class="it.cilea.osd.jdyna.value.DateValue" />
		<mapping class="it.cilea.osd.jdyna.value.TextValue" />
		<mapping class="it.cilea.osd.jdyna.value.LinkValue" />
		<mapping class="it.cilea.osd.jdyna.value.FileValue" />
			
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.value.RPPointer" />

		<mapping
			class="org.dspace.app.cris.model.dynamicfield.value.ProjectPointer" />
			
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.value.OUPointer" />	
		
		
		<mapping class="it.cilea.osd.jdyna.model.AWidget" />
		<mapping class="it.cilea.osd.jdyna.widget.WidgetTesto" />
		<mapping class="it.cilea.osd.jdyna.widget.WidgetLink" />
		<mapping class="it.cilea.osd.jdyna.widget.WidgetDate" />
		<mapping class="it.cilea.osd.jdyna.widget.WidgetFile" />
		<mapping class="it.cilea.osd.jdyna.widget.WidgetPointer" />
				
		<mapping class="it.cilea.osd.jdyna.widget.Size" />		
		<mapping class="it.cilea.osd.jdyna.web.Box" />
		<mapping class="it.cilea.osd.jdyna.web.Tab" />		
		<mapping class="it.cilea.osd.jdyna.model.DecoratorNestedPropertiesDefinition" />
		<mapping class="it.cilea.osd.jdyna.model.Containable" />

		<mapping
			class="org.dspace.app.cris.model.dynamicfield.widget.WidgetFileRP" />

		<mapping
			class="org.dspace.app.cris.model.dynamicfield.widget.WidgetFileProject" />
			
		<mapping
			class="org.dspace.app.cris.model.dynamicfield.widget.WidgetFileOU" />
	</session-factory>

</hibernate-configuration>

